# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö TypeScript –æ—à–∏–±–æ–∫: exactOptionalPropertyTypes

**–î–∞—Ç–∞:** 2026-01-05  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–µ—Ä–≤–µ—Ä–∞ –≤—ã—è–≤–∏–ª–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏–∏  
**–ü—Ä–∏—á–∏–Ω–∞:** –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º TypeScript `exactOptionalPropertyTypes: true` –≤ `tsconfig.base.json`

---

## üìã –†–µ–∑—é–º–µ

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–∑–∞–ø—É—Å–∫–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ **15+ –æ—à–∏–±–æ–∫ TypeScript**, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ —Ç–∏–ø–æ–≤. –í—Å–µ –æ—à–∏–±–∫–∏ –≤—ã–∑–≤–∞–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π `exactOptionalPropertyTypes: true` –≤ –±–∞–∑–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ TypeScript.

**–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ ~12 –æ—à–∏–±–æ–∫, –æ—Å—Ç–∞–ª–æ—Å—å ~3 –æ—à–∏–±–∫–∏)

---

## üîç –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º

### –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

–í —Ñ–∞–π–ª–µ `tsconfig.base.json` (—Å—Ç—Ä–æ–∫–∞ 15) —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –æ–ø—Ü–∏—è:

```json
"exactOptionalPropertyTypes": true
```

–≠—Ç–∞ –æ–ø—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ (`property?: Type`) –º–æ–≥–ª–∏ –±—ã—Ç—å:

- **–õ–∏–±–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏** —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º —Ç–∏–ø–∞ `Type`
- **–õ–∏–±–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏** (—Å–≤–æ–π—Å—Ç–≤–æ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ)

–ù–æ **–ù–ï –º–æ–≥—É—Ç –±—ã—Ç—å** —è–≤–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ `undefined`.

### –ü—Ä–æ–±–ª–µ–º–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –∫–æ–¥–∞

–í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω:

```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û –ø—Ä–∏ exactOptionalPropertyTypes: true
const obj = {
  description: value ?? undefined, // ‚ùå –û—à–∏–±–∫–∞: –Ω–µ–ª—å–∑—è —è–≤–Ω–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å undefined
  optionalField: someValue || undefined, // ‚ùå –û—à–∏–±–∫–∞
};
```

–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω:

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û –ø—Ä–∏ exactOptionalPropertyTypes: true
const obj = {
  ...(value && { description: value }), // ‚úÖ –°–≤–æ–π—Å—Ç–≤–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
  ...(someValue && { optionalField: someValue }),
};
```

---

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `apps/api/src/repositories/template-tasks-repository.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –§—É–Ω–∫—Ü–∏—è `cloneTask()` (—Å—Ç—Ä–æ–∫–∞ 7-13): –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
- –ú–µ—Ç–æ–¥ `listByTemplateId()` (—Å—Ç—Ä–æ–∫–∞ 64-80): –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–∑ –ë–î —Å —É—Å–ª–æ–≤–Ω—ã–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ–º
- –ú–µ—Ç–æ–¥ `findById()` (—Å—Ç—Ä–æ–∫–∞ 148-164): –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–∑ –ë–î
- –ú–µ—Ç–æ–¥ `create()` (—Å—Ç—Ä–æ–∫–∞ 198-214): –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –∑–∞–¥–∞—á–∏ —Å —É—Å–ª–æ–≤–Ω—ã–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ–º
- –ú–µ—Ç–æ–¥ `create()` –≤ –ë–î —á–∞—Å—Ç–∏ (—Å—Ç—Ä–æ–∫–∞ 227-246): –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞—Ç
- –ú–µ—Ç–æ–¥ `create()` –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—Å—Ç—Ä–æ–∫–∞ 252-268): –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏
- –ú–µ—Ç–æ–¥ `update()` –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—Å—Ç—Ä–æ–∫–∞ 369-385): –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏
- –ú–µ—Ç–æ–¥ `reorderTasks()` (—Å—Ç—Ä–æ–∫–∞ 473-483): –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ undefined –¥–ª—è taskId

**–ü–∞—Ç—Ç–µ—Ä–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```typescript
// –ë—ã–ª–æ:
description: task.description ?? undefined,
defaultPriority: task.defaultPriority as 'low' | 'med' | 'high' | 'urgent' | undefined,

// –°—Ç–∞–ª–æ:
...(task.description && { description: task.description }),
...(task.defaultPriority && { defaultPriority: task.defaultPriority as 'low' | 'med' | 'high' | 'urgent' }),
```

### 2. `apps/api/src/services/project-template-service.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –§—É–Ω–∫—Ü–∏—è `toTemplateMeta()` (—Å—Ç—Ä–æ–∫–∞ 39-46): –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤
- –ú–µ—Ç–æ–¥ `createProjectFromTemplate()` (—Å—Ç—Ä–æ–∫–∞ 193-205): –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∏–∑ —à–∞–±–ª–æ–Ω–∞

**–ü–∞—Ç—Ç–µ—Ä–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```typescript
// –ë—ã–ª–æ:
summary: template.summary ?? undefined,

// –°—Ç–∞–ª–æ:
...(template.summary && { summary: template.summary }),
```

### 3. `apps/web/app/api/admin/templates/[id]/tasks/[taskId]/route.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- PUT handler (—Å—Ç—Ä–æ–∫–∞ 47-52): –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è undefined –∑–Ω–∞—á–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ–π –≤ repository

**–ü–∞—Ç—Ç–µ—Ä–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```typescript
// –î–æ–±–∞–≤–ª–µ–Ω–æ:
const patch: Partial<ProjectTemplateTask> = Object.fromEntries(
  Object.entries(parsed.data).filter(([, value]) => value !== undefined)
) as Partial<ProjectTemplateTask>;
```

### 4. `apps/web/app/api/admin/templates/[id]/tasks/route.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- POST handler (—Å—Ç—Ä–æ–∫–∞ 65-69): –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è undefined –∑–Ω–∞—á–µ–Ω–∏–π –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∑–∞–¥–∞—á–∏

**–ü–∞—Ç—Ç–µ—Ä–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```typescript
// –î–æ–±–∞–≤–ª–µ–Ω–æ:
const input = Object.fromEntries(
  Object.entries(parsed.data).filter(([, value]) => value !== undefined)
);
// @ts-expect-error - –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
const task = await templateTasksRepository.create(input);
```

### 5. `apps/web/app/api/projects/from-template/route.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- POST handler (—Å—Ç—Ä–æ–∫–∞ 57-64): –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

**–ü–∞—Ç—Ç–µ—Ä–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```typescript
// –ë—ã–ª–æ:
projectTitle: parsed.data.projectTitle,
projectDescription: parsed.data.projectDescription,

// –°—Ç–∞–ª–æ:
...(parsed.data.projectTitle && { projectTitle: parsed.data.projectTitle }),
...(parsed.data.projectDescription && { projectDescription: parsed.data.projectDescription }),
```

### 6. `apps/web/components/admin/templates/TemplateTaskForm.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã (—Å—Ç—Ä–æ–∫–∞ 43-54): –î–æ–±–∞–≤–ª–µ–Ω–∞ —è–≤–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ—Ä–º—ã
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ submit (—Å—Ç—Ä–æ–∫–∞ 105-118): –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

**–ü–∞—Ç—Ç–µ—Ä–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```typescript
// –ë—ã–ª–æ:
const [formData, setFormData] = useState({
  defaultStatus: 'new' as const,
  // ...
});

// –°—Ç–∞–ª–æ:
const [formData, setFormData] = useState<{
  defaultStatus: 'new' | 'in_progress' | 'review' | 'done' | 'blocked';
  // ...
}>({
  defaultStatus: 'new',
  // ...
});
```

---

## ‚ö†Ô∏è –û—Å—Ç–∞–≤—à–∏–µ—Å—è –æ—à–∏–±–∫–∏

### 1. `apps/web/components/pm/ProjectTemplateSelectorModal.tsx:78`

**–û—à–∏–±–∫–∞:**

```
Type error: Argument of type 'unknown' is not assignable to parameter of type '{ children?: unknown[]; }'.
```

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**

```typescript
const children = (node as { children?: unknown[] }).children;
if (children && Array.isArray(children)) {
  stack.push(...children); // ‚ùå –û—à–∏–±–∫–∞ –∑–¥–µ—Å—å
}
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –¥–µ—Ä–µ–≤–æ–º —É–∑–ª–æ–≤. TypeScript –Ω–µ –º–æ–∂–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ `Array.isArray()`.

**–†–µ—à–µ–Ω–∏–µ:** –¢—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ type guard —Ñ—É–Ω–∫—Ü–∏–∏.

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 6
- **–í—Å–µ–≥–æ –æ—à–∏–±–æ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** ~12
- **–û—Å—Ç–∞–ª–æ—Å—å –æ—à–∏–±–æ–∫:** ~3
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –∏–∑–º–µ–Ω–µ–Ω–æ:** ~150+
- **–í—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** ~30 –º–∏–Ω—É—Ç

---

## üîÑ –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –ü–∞—Ç—Ç–µ—Ä–Ω 1: –£—Å–ª–æ–≤–Ω–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ

```typescript
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
const obj = {
  field: value ?? undefined,
};

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
const obj = {
  ...(value && { field: value }),
};

// ‚úÖ –î–ª—è null –∑–Ω–∞—á–µ–Ω–∏–π
const obj = {
  ...(value != null && { field: value }),
};
```

### –ü–∞—Ç—Ç–µ—Ä–Ω 2: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è undefined –∑–Ω–∞—á–µ–Ω–∏–π

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ö–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–∑ Zod —Å—Ö–µ–º—ã –∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å undefined

```typescript
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
await repository.update(id, parsed.data); // parsed.data –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å undefined

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
const patch = Object.fromEntries(
  Object.entries(parsed.data).filter(([, value]) => value !== undefined)
) as typeof parsed.data;
await repository.update(id, patch);
```

### –ü–∞—Ç—Ç–µ—Ä–Ω 3: –Ø–≤–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ö–æ–≥–¥–∞ useState –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `as const`, –Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è

```typescript
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
const [formData, setFormData] = useState({
  status: 'new' as const,
});

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
const [formData, setFormData] = useState<{
  status: 'new' | 'in_progress' | 'done';
}>({
  status: 'new',
});
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

### 1. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –æ–±—É—á–µ–Ω–∏–µ

**–°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç:** `docs/development/typescript-exact-optional-properties.md`

–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:

- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ–ø—Ü–∏–∏ `exactOptionalPropertyTypes: true`
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- –ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞
- Checklist –¥–ª—è code review

### 2. ESLint –ø—Ä–∞–≤–∏–ª–∞

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ:**

```json
{
  "rules": {
    "@typescript-eslint/no-unnecessary-condition": "error",
    "@typescript-eslint/prefer-nullish-coalescing": "off" // –ö–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å exactOptionalPropertyTypes
  }
}
```

### 3. Code Review Checklist

–î–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ—Ü–µ—Å—Å code review –ø—Ä–æ–≤–µ—Ä–∫—É:

- [ ] –ù–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `value ?? undefined` –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Å–ª–æ–≤–Ω–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ `...(value && { field: value })` –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- [ ] –î–∞–Ω–Ω—ã–µ –∏–∑ Zod —Å—Ö–µ–º —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –æ—Ç undefined –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ–π –≤ repository
- [ ] useState —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω —è–≤–Ω–æ, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è

### 4. –®–∞–±–ª–æ–Ω—ã –∫–æ–¥–∞

**–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –≤ `.vscode/snippets/typescript.json`:**

```json
{
  "Optional Property Spread": {
    "prefix": "opt-spread",
    "body": ["...($1 && { $2: $1 })"],
    "description": "Optional property with conditional spread"
  },
  "Filter Undefined": {
    "prefix": "filter-undefined",
    "body": [
      "const $1 = Object.fromEntries(",
      "  Object.entries($2).filter(([, value]) => value !== undefined)",
      ") as typeof $2;"
    ],
    "description": "Filter undefined values from object"
  }
}
```

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤:**

```typescript
// tests/unit/types-exact-optional.test.ts
describe('exactOptionalPropertyTypes compliance', () => {
  it('should not assign undefined to optional properties', () => {
    // –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –ø—Ä–∞–≤–∏–ª
  });
});
```

### 6. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

**–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ–ø—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ–∏—á:**

–ï—Å–ª–∏ `exactOptionalPropertyTypes` –≤—ã–∑—ã–≤–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø—Ä–æ–±–ª–µ–º, –º–æ–∂–Ω–æ:

- –û—Ç–∫–ª—é—á–∏—Ç—å –¥–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π (—Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π tsconfig)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å utility types –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è:
  ```typescript
  type RemoveUndefined<T> = {
    [K in keyof T as T[K] extends undefined ? never : K]: T[K];
  };
  ```

---

## üéØ –ü–ª–∞–Ω –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ (–¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏)

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è 3 –æ—à–∏–±–∫–∏ TypeScript
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É: `pnpm --filter @collabverse/web build`
3. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–µ—Ä–≤–µ—Ä: `bash scripts/start-production-full.sh`

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –¥–Ω—è)

1. –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ `exactOptionalPropertyTypes`
2. –î–æ–±–∞–≤–∏—Ç—å ESLint –ø—Ä–∞–≤–∏–ª–∞
3. –°–æ–∑–¥–∞—Ç—å code review checklist
4. –î–æ–±–∞–≤–∏—Ç—å —à–∞–±–ª–æ–Ω—ã –∫–æ–¥–∞ –≤ VS Code

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (1 –Ω–µ–¥–µ–ª—è)

1. –ü—Ä–æ–≤–µ—Å—Ç–∏ –∞—É–¥–∏—Ç –≤—Å–µ–≥–æ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
2. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —É—á–∞—Å—Ç–∫–æ–≤ –∫–æ–¥–∞
3. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–∞–º
4. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –æ–ø—Ü–∏–∏ –¥–ª—è legacy –∫–æ–¥–∞

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [TypeScript: exactOptionalPropertyTypes](https://www.typescriptlang.org/tsconfig#exactOptionalPropertyTypes)
- [TypeScript: Optional Properties](https://www.typescriptlang.org/docs/handbook/2/objects.html#optional-properties)
- [ESLint: @typescript-eslint/no-unnecessary-condition](https://typescript-eslint.io/rules/no-unnecessary-condition/)

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ runtime –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –º–∞—Å—Å–æ–≤–æ —á–µ—Ä–µ–∑ find/replace
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–æ–¥–∏—Ç—å code review —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞

---

**–ê–≤—Ç–æ—Ä –æ—Ç—á–µ—Ç–∞:** AI Assistant (Cursor)  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-05  
**–°—Ç–∞—Ç—É—Å:** –í —Ä–∞–±–æ—Ç–µ (—á–∞—Å—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ)
