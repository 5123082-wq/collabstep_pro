# AI-хаб — Генерации

**Статус:** draft  
**Владелец:** engineering  
**Создан:** 2026-01-07  
**Последнее обновление:** 2026-01-07

## Введение

Генерация контента AI — это создание текстов, изображений и кода через различные AI провайдеры. Функциональность частично реализована.

## Типы генераций

### Тексты

- Описания задач
- Комментарии и ответы
- Документация
- Отчеты

### Изображения

NEEDS_CONFIRMATION: Поддерживается ли генерация изображений? Какие провайдеры используются?

### Код

NEEDS_CONFIRMATION: Поддерживается ли генерация кода? Какие языки и форматы?

## Создание генерации

1. Пользователь выбирает тип генерации
2. Вводит промпт или описание
3. Выбирает провайдера (OpenAI, Yandex GPT)
4. Нажимает "Сгенерировать"
5. AI создает контент
6. Пользователь может редактировать и сохранить результат

## Управление генерациями

### История генераций

Пользователи могут просматривать историю своих генераций:
- Список всех генераций
- Фильтрация по типу, дате, провайдеру
- Поиск по содержимому

**⚠️ Статус:** Не реализовано. Сейчас генерации stateless — каждый запрос одноразовый, история не сохраняется.

**Решение:** Реализация истории чатов с AI-агентами. См. детальный план:
- [История чатов с AI-агентами](../../development/ai-brandbook-agent/07-conversation-history.md)

План включает:
- Сущности `AIConversation` и `AIMessage` для хранения диалогов
- API endpoints для CRUD операций
- Интеграция с Brandbook Agent и другими агентами
- UI для просмотра и продолжения чатов

### Сохранение генераций

Генерации могут быть сохранены:
- В проекте (как задачи, комментарии, документы)
- В личной библиотеке
- Как шаблоны для повторного использования

NEEDS_CONFIRMATION: Как реализовано сохранение генераций?

## Интеграция с проектами

Генерации могут быть использованы в проектах:
- Создание задач из сгенерированных описаний
- Добавление комментариев из генераций
- Создание документов из генераций

## API Endpoints

### POST /api/ai/generate

Универсальный endpoint для генерации

**Request:**
```json
{
  "action": "generate-text" | "generate-image" | "generate-code",
  "provider": "openai" | "yandex",
  "prompt": "Описание того, что нужно сгенерировать",
  "data": { ... }
}
```

**Response:**
```json
{
  "result": "Сгенерированный контент",
  "metadata": {
    "provider": "openai",
    "model": "gpt-4",
    "tokens": 150
  }
}
```

## Связанные документы

- [AI Hub Module](./ai-hub-overview.md) — обзор модуля
- [Integration](./ai-hub-integration.md) — архитектура и API
- [Assistant](./ai-hub-assistant.md) — AI-ассистент
- [История чатов с AI-агентами](../../development/ai-brandbook-agent/07-conversation-history.md) — план реализации персистентных диалогов
- [Brandbook Agent](../../development/ai-brandbook-agent/00-index.md) — генеративный брендбук

---

**Последнее обновление:** 2026-01-19
