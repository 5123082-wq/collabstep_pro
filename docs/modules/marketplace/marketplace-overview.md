# Маркетплейс — Обзор

**Статус:** partial
**Владелец:** product/engineering
**Создан:** 2026-01-07
**Последнее обновление:** 2026-01-07

## Назначение

Маркетплейс объединяет каталог шаблонов, витрину готовых проектов и пакеты услуг. Раздел отвечает за поиск, добавление в избранное и корзину, публикацию проектов и будущие продажи в рамках платформы.

## Навигация

- `/market/templates` — каталог шаблонов
- `/market/templates/:id` — карточка шаблона
- `/market/projects` — готовые проекты (в разработке)
- `/market/services` — пакеты услуг (в разработке)
- `/market/categories` — категории и подборки (в разработке)
- `/market/favorites` — избранное
- `/market/cart` — корзина
- `/market/orders` — мои заказы (в разработке)
- `/market/publish` — опубликовать (в разработке)
- `/market/seller` — мои продажи (в разработке)

## Состав раздела

- [Маркетплейс — Каталог шаблонов](./marketplace-templates.md)
- [Маркетплейс — Избранное](./marketplace-favorites.md)
- [Маркетплейс — Корзина](./marketplace-cart.md)
- [Маркетплейс — Готовые проекты](./marketplace-ready-projects.md)
- [Маркетплейс — Пакеты услуг](./marketplace-services.md)
- [Маркетплейс — Категории и подборки](./marketplace-categories.md)
- [Маркетплейс — Мои заказы](./marketplace-orders.md)
- [Маркетплейс — Опубликовать](./marketplace-publish.md)
- [Маркетплейс — Мои продажи](./marketplace-seller.md)

## Текущее состояние (по UI и коду)

- Каталог шаблонов работает на мок‑данных (`apps/web/lib/marketplace/data.ts`).
- Карточка шаблона доступна по `/market/templates/:id` и включает галерею, метаданные, список файлов.
- Избранное и корзина реализованы через `useMarketplaceStore` (Zustand) без серверной синхронизации.
- Оформление заказа — демо‑кнопка (alert), платежного провайдера нет.
- Разделы готовых проектов, услуг, категорий, заказов, публикации и продавца — заглушки UI.
- API для листинга проекта: `/api/pm/projects/:id/listings` (флаг `PM_PROJECT_CARD`) с состояниями `draft`, `published`, `rejected`.
- Статус листинга отображается на карточке проекта в блоке «Связки».

## Ключевые сущности (по коду)

- **MarketplaceTemplate** — карточка шаблона (категория, цена, рейтинг, файлы).
- **MarketplaceCategory** — `logo`, `landing`, `ui_kit`, `presentation`.
- **MarketplaceListing** — листинг проекта (черновик/опубликован/отклонён).
- **CartItem** — элемент корзины (`templateId`, `quantity`).

## Основные сценарии

1. Найти шаблон через поиск, фильтр по категории и сортировку.
2. Открыть карточку шаблона и добавить его в избранное/корзину.
3. Управлять корзиной: менять количество, удалять позиции, очищать список.
4. Запустить демо‑оформление заказа (без оплаты).
5. Создать черновик листинга проекта из PM‑карточки.

## Создание

- **Кнопка «Создать» в маркетплейсе:** действия «Вакансия» и «Услуга» (модальные сценарии в разработке).
- **Публикация проекта:** листинг создаётся через `/api/pm/projects/:id/listings`, доступен роли owner/admin проекта.
- **Опубликовать:** мастер публикации находится в разработке.

## Спорные статусы и роли

- **`rejected`** — листинг отклонён (модерация). Решение принимает администратор/модератор.
- **Роли:** покупатель (FOUNDER/PM), продавец/исполнитель (SPECIALIST/CONTRACTOR), модерация (ADMIN/MODERATOR).

## Доступность по ролям

- Раздел доступен ролям `FOUNDER`, `PM`, `ADMIN`, `SPECIALIST`, `CONTRACTOR`.
- Публикация листинга требует прав owner/admin в проекте.

## Взаимодействия с другими разделами

- **Проекты и задачи:** публикация проекта в маркетплейсе, отображение статуса листинга.
- **Финансы:** оплата и заказы планируются.
- **Исполнители:** вакансии/услуги будут связаны с рынком исполнителей.
- **Документы:** файлы шаблонов будут выдаваться через защищённые ссылки после покупки.

## Ограничения и планируемое

- Корзина/избранное не сохраняются между сессиями.
- Нет реального checkout и истории заказов.
- Витрина готовых проектов не привязана к листингам (планируется связать).

## Связанные документы

- [Проекты и задачи — Проекты](../projects-tasks/projects-tasks-projects.md)
- [Финансы — Обзор](../finance/finance-overview.md)
- [Документы — Обзор](../docs/docs-overview.md)
- [Обзор платформы](../../platform/overview.md)
