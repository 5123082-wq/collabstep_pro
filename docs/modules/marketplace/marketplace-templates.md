# Маркетплейс — Каталог шаблонов

**Статус:** partial
**Владелец:** product/engineering
**Создан:** 2026-01-07
**Последнее обновление:** 2026-01-07

## Назначение

Каталог шаблонов — витрина дизайн‑шаблонов (UI‑киты, логотипы, лендинги, презентации). Шаблоны доступны для просмотра, добавления в избранное и корзину. Это отдельный слой от проектных шаблонов PM.

## Навигация

- `/market/templates` — каталог шаблонов
- `/market/templates/:id` — карточка шаблона

Параметры фильтрации на каталоге:
- `q` — поисковый запрос
- `category` — категория (`logo`, `landing`, `ui_kit`, `presentation`)
- `sort` — сортировка (`featured`, `price_asc`, `price_desc`, `rating_desc`)

## Текущее состояние (по UI и коду)

- Каталог строится на мок‑данных (`apps/web/lib/marketplace/data.ts`).
- Фильтры и сортировка работают локально в UI (`TemplatesCatalog`).
- В списке доступна карточка шаблона и модальное окно предпросмотра.
- Детальная страница включает галерею, метаданные, список файлов и блок покупки.
- Действия «В корзину» и «Сохранить» используют `useMarketplaceStore` (Zustand).

## Модель данных (кратко)

- **MarketplaceTemplate:** `id`, `title`, `description`, `category`, `price`, `pricingType`, `subscriptionTier?`, `rating`, `ratingCount`, `salesCount`, `seller`, `previewUrl`, `gallery`, `license`, `compatibility`, `requirements`, `files`, `tags`.
- **MarketplaceFile:** `name`, `size`, `mime`.
- **MarketplaceSeller:** `id`, `name`, `avatarUrl`, `portfolioCount`.

## Основные сценарии

1. Найти шаблон через поиск, фильтр по категории и сортировку.
2. Открыть карточку шаблона, посмотреть галерею и характеристики.
3. Добавить шаблон в корзину.
4. Сохранить шаблон в избранное.

## Ценообразование

- **`free`** — бесплатный доступ.
- **`subscription`** — доступ в рамках подписки (показывается уровень подписки).
- **`paid`** — разовая покупка.

## Создание

Публикация новых шаблонов в каталоге пока не реализована. Раздел «Опубликовать» готовится, а данные каталога подставляются из мок‑набора.

## Доступность по ролям

- Раздел доступен ролям `FOUNDER`, `PM`, `ADMIN`, `SPECIALIST`, `CONTRACTOR`.
- Добавление в корзину/избранное не ограничено по ролям.

## Взаимодействия с другими разделами

- **Избранное:** сохранённые шаблоны выводятся в `/market/favorites`.
- **Корзина:** выбранные шаблоны отображаются в `/market/cart`.
- **Мои заказы:** планируемый источник загруженных файлов после покупки.

## Ограничения и планируемое

- Данные каталога не сохраняются в БД и служат демо‑набором.
- Избранное и корзина не синхронизируются с сервером.
- Скачивание файлов и управление лицензиями пока не реализованы.

## Связанные документы

- [Маркетплейс — Избранное](./marketplace-favorites.md)
- [Маркетплейс — Корзина](./marketplace-cart.md)
- [Маркетплейс — Мои заказы](./marketplace-orders.md)
- [Маркетплейс — Обзор](./marketplace-overview.md)
